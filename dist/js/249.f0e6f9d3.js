"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[249],{8249:function(t,i,s){s.r(i),s.d(i,{default:function(){return g}});var e=function(){var t=this,i=t._self._c;return i("div",[i("el-carousel",{attrs:{interval:3e3,type:"card",height:"200px",trigger:"click"}},t._l(t.banners,(function(t){return i("el-carousel-item",{key:t.argetId},[i("img",{attrs:{src:t.imageUrl,alt:""}})])})),1),i("div",{staticClass:"singingListHeader"},[t._m(0),i("ul",{on:{click:t.getCat}},t._l(t.tags,(function(s){return i("li",{key:s.id},[t._v(t._s(s.name))])})),0),i("span",{staticClass:"more",on:{click:t.more}},[t._v("更多"),i("i",{staticClass:"el-icon-arrow-right"})])]),i("ul",{staticClass:"topList",on:{click:function(i){return t.goSinginglistdetails(i)}}},[t._l(t.topPlatList,(function(s,e){return i("li",{key:s.id,attrs:{index:e}},[i("img",{attrs:{src:s.coverImgUrl,alt:"",index:e}}),i("span",{attrs:{index:e}},[t._v(t._s(s.name))])])})),i("li"),i("li"),i("li"),i("li"),i("li"),i("li")],2),i("el-pagination",{staticClass:"pagination",attrs:{"page-size":t.limit,"pager-count":9,layout:"prev, pager, next",total:t.total||0},on:{"current-change":t.changeSize}})],1)},a=[function(){var t=this,i=t._self._c;return i("h3",[t._v("热门歌单"),i("i",{staticClass:"el-icon-arrow-right"})])}],n=(s(7658),s(3822)),r={name:"recommend",data(){return{banners:[],tags:[],limit:21,cat:"华语",currentPage:"0",offset:"1",singingListId:""}},mounted(){this.getBanners(),this.getHotList(),this.getList()},methods:{async getBanners(){let t=await this.$API.reqBanner();200===t.status&&(this.banners=t.data.banners||[])},async getHotList(){let t=await this.$API.reqHotPlatList();200==t.data.code&&(this.tags=t.data.tags)},getList(){let{limit:t,cat:i,currentPage:s}=this;this.$store.dispatch("getTopPlatList",{limit:t,cat:i,currentPage:s})},getCat(t){this.cat=t.target.innerHTML,this.getList()},changeSize(t){this.currentPage=21*(t-this.offset),localStorage.setItem("Nav","first"),this.getList()},more(){this.$router.push("/home/discoveringmusic/playlist"),this.$bus.$emit("current")},goSinginglistdetails(t){let i=t.target.attributes.index.value;this.singingListId=this.topPlatList[i].id,this.$router.push(`/home/discoveringmusic/singinglistdetails?id=${this.singingListId}`)}},computed:{...(0,n.rn)({topPlatList:t=>t.discoveringmusic.topPlatList,total:t=>t.discoveringmusic.total})}},l=r,c=s(1001),o=(0,c.Z)(l,e,a,!1,null,"4dc7c180",null),g=o.exports}}]);
//# sourceMappingURL=249.f0e6f9d3.js.map