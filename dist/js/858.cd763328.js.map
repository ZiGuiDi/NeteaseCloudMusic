{"version":3,"file":"js/858.cd763328.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,UAAUH,EAAG,OAAO,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,KAAK,UAAUL,EAAG,WAAW,CAACM,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOT,EAAIU,OAAOC,OAAOC,GAAG,CAAC,aAAaZ,EAAIa,aAAa,CAACX,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAO,OAAO,MAAQ,MAAM,MAAQ,WAAWP,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAO,aAAa,MAAQ,KAAK,MAAQ,UAAUP,EAAG,kBAAkB,CAACO,MAAM,CAAC,KAAO,UAAU,MAAQ,KAAK,MAAQ,WAAW,GAAGP,EAAG,gBAAgB,CAACE,YAAY,aAAaK,MAAM,CAAC,YAAYT,EAAIc,MAAM,cAAc,EAAE,OAAS,oBAAoB,MAAQd,EAAIO,KAAO,GAAGK,GAAG,CAAC,iBAAiBZ,EAAIe,eAAe,EACjyB,EACIC,EAAkB,GC0BtB,GACAC,KAAA,SACAC,OACA,OACAR,OAAA,GACAI,MAAA,GACAK,OAAA,EACAC,YAAA,EACAC,UAAA,GACAC,SAAA,GAEA,EACAC,UACA,UAAAT,EAAA,YAAAM,GAAA,KACA,KAAAI,cAAAV,EAAAM,GACA,KAAAK,KAAAC,IAAA,gBAAAC,SACA,EACAC,QAAA,CACAD,WACA,UAAAb,EAAA,YAAAM,GAAA,KACA,KAAAI,cAAAV,EAAAM,EACA,EACA,oBAAAN,EAAAM,GACA,IAAAS,EAAAC,KAAAC,MAAA,IAAAD,MACA,KAAAT,UAAA,KAAAW,OAAAC,MAAAX,SACA,IAAAZ,QAAA,KAAAwB,KAAAC,UACA,KAAAd,UACAP,EACAM,EACAS,GAEA,MAAAnB,EAAAQ,KAAAkB,OACA,KAAA1B,OAAAA,EAAAQ,KAAAR,OACAA,EAAAQ,KAAAR,OAAAC,MAAA0B,SAAA,CAAAC,EAAAC,KAEA,IAAAC,EAAAC,SAAAH,EAAAI,GAAA,QACAC,EAAAF,SACA,IAAAH,EAAAI,GAAA,OAAAD,SAAAH,EAAAI,GAAA,UAEAC,EAAAA,EAAA,OAAAA,EAAAA,EACA,KAAAjC,OAAAC,MAAA4B,GAAAG,GAAA,GAAAF,KAAAG,IAAA,IAGA,EACA9B,WAAAK,GACA,IAAA0B,EAAA1B,EAAA0B,GACA,KAAAnB,KAAAoB,MAAA,UAAAD,EACA,EACA7B,WAAA+B,GACA,UAAAhC,EAAA,YAAAM,GAAA,KACAA,EAAA,IAAA0B,EAAA,KAAA3B,QACA,KAAAK,cAAAV,EAAAM,EACA,GAEA2B,SAAA,CACAxC,MACA,YAAAG,OAAAsC,SACA,ICrFsP,I,UCQlPC,GAAY,OACd,EACAlD,EACAiB,GACA,EACA,KACA,KACA,MAIF,EAAeiC,EAAiB,O","sources":["webpack://project/./src/view/Search.vue","webpack://project/src/view/Search.vue","webpack://project/./src/view/Search.vue?6ce6","webpack://project/./src/view/Search.vue?46a8"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"center\"},[_c('h2',[_vm._v(\"歌曲列表\")]),_c('span',[_vm._v(_vm._s(_vm.sum)+\"首歌\")])]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.result.songs},on:{\"cell-click\":_vm.getMusicId}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"歌曲名\",\"width\":\"width\"}}),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\",\"width\":\"150%\"}}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"width\":\"300%\"}}),_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\",\"width\":\"300%\"}})],1),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"page-size\":_vm.limit,\"pager-count\":9,\"layout\":\"prev, pager, next\",\"total\":_vm.sum || 0},on:{\"current-change\":_vm.changeSize}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <div class=\"center\">\r\n      <h2>歌曲列表</h2>\r\n      <span>{{ sum }}首歌</span>\r\n    </div>\r\n    <el-table :data=\"result.songs\" style=\"width: 100%\" @cell-click=\"getMusicId\">\r\n      <el-table-column prop=\"name\" label=\"歌曲名\" width=\"width\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"dt\" label=\"时长\" width=\"150%\"> </el-table-column>\r\n      <el-table-column prop=\"ar[0].name\" label=\"歌手\" width=\"300%\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"al.name\" label=\"专辑\" width=\"300%\">\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      :page-size=\"limit\"\r\n      :pager-count=\"9\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"sum || 0\"\r\n      class=\"pagination\"\r\n      @current-change=\"changeSize\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Search\",\r\n  data() {\r\n    return {\r\n      result: [],\r\n      limit: 10,\r\n      offset: 1,\r\n      currentPage: 0,\r\n      musicName: \"\",\r\n      keywords: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    let { limit, currentPage } = this;\r\n    this.getSearchList(limit, currentPage);\r\n    this.$bus.$on(\"getMusic\", this.getQuery);\r\n  },\r\n  methods: {\r\n    getQuery() {\r\n      let { limit, currentPage } = this;\r\n      this.getSearchList(limit, currentPage);\r\n    },\r\n    async getSearchList(limit, currentPage) {\r\n      let timeStamp = Date.parse(new Date());\r\n      this.musicName = this.$route.query.keywords;\r\n      let result = await this.$API.reqSearch(\r\n        this.musicName,\r\n        limit,\r\n        currentPage,\r\n        timeStamp\r\n      );\r\n      if (result.data.code === 200) {\r\n        this.result = result.data.result;\r\n        result.data.result.songs.forEach((element, index) => {\r\n          // result.data.result.songs\r\n          let m = parseInt(element.dt / 1000 / 60);\r\n          let s = parseInt(\r\n            [element.dt / 1000 / 60 - parseInt(element.dt / 1000 / 60)] * 60\r\n          );\r\n          s = s < 10 ? \"0\" + s : s;\r\n          this.result.songs[index].dt = `${m}分${s}秒`;\r\n        });\r\n      }\r\n    },\r\n    getMusicId(data) {\r\n      let id = data.id;\r\n      this.$bus.$emit(\"musicId\", id);\r\n    },\r\n    changeSize(page) {\r\n      let { limit, currentPage } = this;\r\n      currentPage = (page - this.offset) * 10;\r\n      this.getSearchList(limit, currentPage);\r\n    },\r\n  },\r\n  computed: {\r\n    sum() {\r\n      return this.result.songCount;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoper>\r\n.box {\r\n  width: 980px;\r\n  margin: 5px auto;\r\n  background-color: #fff;\r\n}\r\n.search {\r\n  width: 200px;\r\n}\r\n.center {\r\n  display: flex;\r\n}\r\n.center span {\r\n  line-height: 72px;\r\n  font-size: 14px;\r\n  margin-left: 20px;\r\n  color: #666;\r\n}\r\n.pagination {\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=36c51d0d&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=36c51d0d&prod&scoper=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","sum","staticStyle","attrs","result","songs","on","getMusicId","limit","changeSize","staticRenderFns","name","data","offset","currentPage","musicName","keywords","mounted","getSearchList","$bus","$on","getQuery","methods","timeStamp","Date","parse","$route","query","$API","reqSearch","code","forEach","element","index","m","parseInt","dt","s","id","$emit","page","computed","songCount","component"],"sourceRoot":""}