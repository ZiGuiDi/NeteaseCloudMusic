"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[639],{4639:function(t,a,s){s.r(a),s.d(a,{default:function(){return o}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"top"},[a("div",{staticClass:"box"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.playlist.coverImgUrl}})]),a("div",{staticClass:"right"},[a("div",{staticClass:"songSheet"},[a("i",[t._v("歌单")]),a("h3",[t._v(t._s(this.playlist.name))])]),a("div",{staticClass:"author"},[a("img",{attrs:{src:t.avatarUrl}}),a("span",[t._v(t._s(t.nickname))])]),a("div",{staticClass:"nav"},[a("span",[t._v("标签:")]),a("ul",t._l(t.tags,(function(s,i){return a("li",{key:i},[a("i",[t._v(t._s(s))])])})),0)]),a("div",{staticClass:"introduce"},[a("span",[t._v("介绍： "),a("p",[t._v(t._s(t.playlist.description))])])])])]),a("div",{staticClass:"center"},[a("h2",[t._v("歌曲列表")]),a("span",[t._v(t._s(t.sum)+"首歌")]),a("p",[t._v(" 播放:"),a("i",[t._v(t._s(t.play))]),t._v("次 ")])]),a("el-table",{staticClass:"elTable",staticStyle:{width:"100%"},attrs:{data:t.songs},on:{"cell-click":t.getMusicId}},[a("el-table-column",{attrs:{type:"index",width:"100%",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"歌曲标题",width:"300%"}}),a("el-table-column",{attrs:{prop:"dt",label:"时长",width:"150%"}}),a("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手",width:"300%"}}),a("el-table-column",{attrs:{prop:"al.name",label:"专辑",width:"300%"}})],1),a("el-pagination",{staticClass:"pagination",attrs:{"page-size":t.limit,"pager-count":9,layout:"prev, pager, next",total:t.sum||0},on:{"current-change":t.changeSize}})],1)},e=[],l={name:"singingListDetails",data(){return{singingListId:"",playlist:{},avatarUrl:"",nickname:"",tags:[],songs:[],limit:10,offset:1,currentPage:0}},mounted(){this.singingListId=this.$route.query.id;let{limit:t,singingListId:a,currentPage:s}=this;this.getDetail(a),this.getTrackAll(a,t,s)},methods:{async getDetail(t){let a=await this.$API.reqDetail(t);200===a.data.code&&(this.playlist=a.data.playlist,this.avatarUrl=this.playlist.creator.avatarUrl,this.nickname=this.playlist.creator.nickname,this.tags=this.playlist.tags)},async getTrackAll(t,a,s){let i=await this.$API.reqTrack(t,a,s);200===i.data.code&&(this.songs=i.data.songs,this.songs.forEach(((t,a)=>{let s=parseInt(t.dt/1e3/60),i=parseInt(60*[t.dt/1e3/60-parseInt(t.dt/1e3/60)]);i=i<10?"0"+i:i,this.songs[a].dt=`${s}分${i}秒`})))},changeSize(t){let{limit:a,singingListId:s,currentPage:i}=this;i=10*(t-this.offset),this.getTrackAll(s,a,i)},getMusicId(t){let a=t.id;this.$bus.$emit("musicId",a)}},computed:{sum(){return this.playlist.trackCount},play(){return this.playlist.playCount}}},n=l,r=s(1001),c=(0,r.Z)(n,i,e,!1,null,"bc7fffd0",null),o=c.exports}}]);
//# sourceMappingURL=639.f79dfcf3.js.map